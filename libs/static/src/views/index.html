<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" />
    <title>mobileLIVE Design System - Static Components</title>
    <link rel="shortcut icon" href="/assets/images/favicon.ico" />

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,300;0,400;0,500;0,600;0,700;0,900;1,400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Krona+One&family=Milonga&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="css-variables.css" />
    <link rel="stylesheet" type="text/css" href="friday-design-sytem.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="friday-design-sytem-icons.css"
    />
    <link rel="stylesheet" type="text/css" href="guide-styles.css" />
    <script>
      (function (global) {
        var s = document.createElement('script');

        function loaderCallback() {
          // Do actions before ASLint starts
        }

        function resultsCallback(results) {
          console.log(results);
        }

        s.type = 'text/javascript';
        s.async = true;
        s.src =
          (document.location.protocol === 'https:' ? 'https:' : 'http:') +
          '//www.aslint.org/api/aslint/loader/loader.js';

        global.aslint = {
          config: {
            asyncRunner: true,
            context: '',
            contextDescription: '',
            reportFormat: { JSON: true },
            resultsCallback: resultsCallback,
            visibleUI: true
          }
        };

        if (typeof s.addEventListener === 'function') {
          s.addEventListener('load', loaderCallback);
        }

        document.body.appendChild(s);
      })(this);
    </script>
  </head>

  <body class="dashboard-styling">
    <a href="javascript:void(0)" id="btnSkipNav" class="btn-skip-nav"
      >Skip Navigation</a
    >
    <!--theme switcher-->
    <div class="theme-switcher">
      <p class="text--center">Choose <br />Theme:</p>
      <div class="btns-switcher-holder">
        <button class="btn btn--primary btn--sm navy" onclick="switchTheme(1)">
          Navy
        </button>
        <button class="btn btn--primary btn--sm lemon" onclick="switchTheme(2)">
          Lemon
        </button>
        <button class="btn btn--primary btn--sm lime" onclick="switchTheme(3)">
          Lime
        </button>
        <button
          class="btn btn--primary btn--sm default"
          onclick="switchTheme(4)"
        >
          Default
        </button>
      </div>
    </div>

    <!--theme switcher-->
    <div class="wrapper" id="pageWrapper">
      <!--Sidebar-->
      <module href="/components/sidebarNav.html"></module>
      <!--Sidebar-->

      <!--Header-->
      <main class="main-panel">
        <!-- Navbar -->
        <div class="logo">
          <h4 class="ds-name">Friday</h4>
          <a href="javascript:void(0)" class="logo-mini">
            <img
              class="img-fluid"
              src="https://images.ctfassets.net/6krz4kg7somr/4rbWt1PlMkYo4wM0AG404E/3f7fd80ac8a62bd48a235d98bc04127e/logo.png"
              alt="mobileLive"
            />
          </a>
        </div>

        <div class="content">
          <!--General-->
          <module href="/components/_partial.general.html"></module>
          <!--General-->

          <!--Utilities-->
          <module href="/components/_partial.utility.html"></module>
          <!--Utilities-->

          <!--Colors-->
          <module href="/components/_partial.colorplatte.html"></module>
          <!--Colors-->

          <!--Typography-->
          <module href="/components/_partial.typography.html"></module>
          <!--/Typography-->

          <!--Buttons-->
          <module href="/components/_partial.buttons.html"></module>
          <!--Buttons-->

          <!--Forms-->
          <module href="/components/_partial.forms.html"></module>
          <!--Forms-->

          <!--Forms-->
          <module href="/components/_partial.components.html"></module>
          <!--Forms-->

          <!--Icons-->
          <module href="/components/_partial.icons.html"></module>
          <!--/Icons-->

          <!--Modals-->
          <module href="/components/_partial.Modals.html"></module>
          <!--Modals-->

          <!--Media-->
          <module href="/components/_partial.Media.html"></module>
          <!--Media-->

          <!--Card-->
          <module href="/components/_partial.card.html"></module>
          <!--Card-->

          <!--Progressbar-->
          <module href="/components/_partial.progressbar.html"></module>
          <!--Progressbar-->

          <!--Notification List-->
          <module href="/components/_partial.notification-list.html"></module>
          <!--Notification List-->

          <!--Accordion and Collaps-->
          <module href="/components/_partial.accordion.html"></module>
          <!--Accordion and Collaps-->

          <!--Tables List-->
          <module href="/components/_partial.tables.html"></module>
          <!--Tables List-->

          <!--Notification List-->
          <module href="/components/_partial.notification-toast.html"></module>
          <!--Notification List-->

          <!-- NavBar -->
          <module href="/components/_partial.navbar.html"></module>
          <!-- NavBar -->

          <!--Grids-->
          <div class="my--5" id="Grid_sections">
            <!--<h3 class="h3">Grid</h3>-->
          </div>
        </div>
      </main>
      <!--/Header-->

      <!--Footer-->
      <footer class="footer">
        <div class="container-fluid"></div>
      </footer>
      <!--Footer-->
    </div>
    <script src="/bundle.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
      function switchTheme(n) {
        var i = n;
        var root = document.getElementsByTagName('html')[0];
        if (i === 1) {
          root.classList.add('navy');
          root.classList.remove('lemon');
          root.classList.remove('lime');
        } else if (i === 2) {
          root.classList.add('lemon');
          root.classList.remove('navy');
          root.classList.remove('lime');
        } else if (i === 3) {
          root.classList.add('lime');
          root.classList.remove('navy');
          root.classList.remove('lemon');
        } else if (i === 4) {
          root.classList.remove('navy');
          root.classList.remove('lemon');
          root.classList.remove('lime');
        }
      }

      var el;
      var counter = 0;
      var maxVal = 144;
      var countVal = document.getElementById('textChar');
      countVal.textContent = counter + ' / ' + maxVal;

      function countCharacters(e) {
        var textEntered, countRemaining, counter;
        textEntered = document.getElementById('textarea').value;
        counter = maxVal - textEntered.length;
        countVal.textContent = counter + ' / ' + maxVal;
      }
      el = document.getElementById('textarea');
      el.addEventListener('keyup', countCharacters, false);

      function showModal(n) {
        var root = document.getElementsByTagName('body')[0];
        var modal1 = document.getElementById('modal1');
        var modal2 = document.getElementById('modal2');
        var modal3 = document.getElementById('modal3');
        var modal4 = document.getElementById('modal4');
        var modal5 = document.getElementById('modal5');
        var modal6 = document.getElementById('modal6');
        var modal7 = document.getElementById('modal7');
        var modal8 = document.getElementById('modal8');
        var modal9 = document.getElementById('modal9');
        var modal10 = document.getElementById('modal10');
        var modal11 = document.getElementById('modal11');
        var modal12 = document.getElementById('modal12');
        var modal13 = document.getElementById('modal13');
        var modal14 = document.getElementById('modal14');
        var modal15 = document.getElementById('modal15');
        var modal16 = document.getElementById('modal16');
        var modal17 = document.getElementById('modal17');
        var modal18 = document.getElementById('modal18');
        var modal19 = document.getElementById('modal19');
        var modal20 = document.getElementById('modal20');
        var modal21 = document.getElementById('modal21');
        var modal22 = document.getElementById('modal22');
        var modal23 = document.getElementById('modal23');
        var modal24 = document.getElementById('modal24');
        var modal25 = document.getElementById('modal25');
        var modal26 = document.getElementById('modal26');
        var modal27 = document.getElementById('modal27');
        var modal28 = document.getElementById('modal28');
        var modal29 = document.getElementById('modal29');
        var modal_backdrop = document.getElementById('modalBackdrop');
        if (n == 1) {
          root.classList.add('modalOpen');
          modal1.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 2) {
          root.classList.add('modalOpen');
          modal2.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 3) {
          root.classList.add('modalOpen');
          modal3.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 4) {
          root.classList.add('modalOpen');
          modal4.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 5) {
          root.classList.add('modalOpen');
          modal5.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 6) {
          root.classList.add('modalOpen');
          modal6.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 7) {
          root.classList.add('modalOpen');
          modal7.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 8) {
          root.classList.add('modalOpen');
          modal8.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 9) {
          root.classList.add('modalOpen');
          modal9.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 10) {
          root.classList.add('modalOpen');
          modal10.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 11) {
          root.classList.add('modalOpen');
          modal11.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 12) {
          root.classList.add('modalOpen');
          modal12.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 13) {
          root.classList.add('modalOpen');
          modal13.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 14) {
          root.classList.add('modalOpen');
          modal14.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 15) {
          root.classList.add('modalOpen');
          modal15.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 16) {
          root.classList.add('modalOpen');
          modal16.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }
        if (n == 17) {
          root.classList.add('modalOpen');
          modal17.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 18) {
          root.classList.add('modalOpen');
          modal18.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 19) {
          root.classList.add('modalOpen');
          modal19.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 20) {
          root.classList.add('modalOpen');
          modal20.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 21) {
          root.classList.add('modalOpen');
          modal21.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 22) {
          root.classList.add('modalOpen');
          modal22.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 23) {
          root.classList.add('modalOpen');
          modal23.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 24) {
          root.classList.add('modalOpen');
          modal24.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 25) {
          root.classList.add('modalOpen');
          modal25.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 26) {
          root.classList.add('modalOpen');
          modal26.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 27) {
          root.classList.add('modalOpen');
          modal27.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 28) {
          root.classList.add('modalOpen');
          modal28.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        if (n == 29) {
          root.classList.add('modalOpen');
          modal29.classList.add('showModal');
          modal_backdrop.classList.add('showModal');
        }

        // add all the elements inside modal which you want to make focusable
        const focusableElements =
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
        const modal = document.querySelector('#modal1'); // select the modal by it's id

        const firstFocusableElement = modal.querySelectorAll(
          focusableElements
        )[0]; // get first element to be focused inside modal
        const focusableContent = modal.querySelectorAll(focusableElements);
        const lastFocusableElement =
          focusableContent[focusableContent.length - 1]; // get last element to be focused inside modal

        document.addEventListener('keydown', function (e) {
          let isTabPressed = e.key === 'Tab' || e.keyCode === 9;

          if (!isTabPressed) {
            return;
          }

          if (e.shiftKey) {
            // if shift key pressed for shift + tab combination
            if (document.activeElement === firstFocusableElement) {
              lastFocusableElement.focus(); // add focus for the last focusable element
              e.preventDefault();
            }
          } else {
            // if tab key is pressed
            if (document.activeElement === lastFocusableElement) {
              // if focused has reached to last focusable element then focus first focusable element after pressing tab
              firstFocusableElement.focus(); // add focus for the first focusable element
              e.preventDefault();
            }
          }
        });

        firstFocusableElement.focus();
      }
      function hideModal() {
        var root = document.getElementsByTagName('body')[0];
        var modal1 = document.getElementById('modal1');
        var modal2 = document.getElementById('modal2');
        var modal3 = document.getElementById('modal3');
        var modal4 = document.getElementById('modal4');
        var modal5 = document.getElementById('modal5');
        var modal6 = document.getElementById('modal6');
        var modal7 = document.getElementById('modal7');
        var modal8 = document.getElementById('modal8');
        var modal9 = document.getElementById('modal9');
        var modal10 = document.getElementById('modal10');
        var modal11 = document.getElementById('modal11');
        var modal12 = document.getElementById('modal12');
        var modal13 = document.getElementById('modal13');
        var modal14 = document.getElementById('modal14');
        var modal15 = document.getElementById('modal15');
        var modal16 = document.getElementById('modal16');
        var modal17 = document.getElementById('modal17');
        var modal18 = document.getElementById('modal18');
        var modal19 = document.getElementById('modal19');
        var modal20 = document.getElementById('modal20');
        var modal21 = document.getElementById('modal21');
        var modal22 = document.getElementById('modal22');
        var modal23 = document.getElementById('modal23');
        var modal24 = document.getElementById('modal24');
        var modal25 = document.getElementById('modal25');
        var modal26 = document.getElementById('modal26');
        var modal27 = document.getElementById('modal27');
        var modal28 = document.getElementById('modal28');
        var modal29 = document.getElementById('modal29');
        var modal_backdrop = document.getElementById('modalBackdrop');
        root.classList.remove('modalOpen');
        modal1.classList.remove('showModal');
        modal2.classList.remove('showModal');
        modal3.classList.remove('showModal');
        modal4.classList.remove('showModal');
        modal5.classList.remove('showModal');
        modal6.classList.remove('showModal');
        modal7.classList.remove('showModal');
        modal8.classList.remove('showModal');
        modal9.classList.remove('showModal');
        modal10.classList.remove('showModal');
        modal11.classList.remove('showModal');
        modal12.classList.remove('showModal');
        modal13.classList.remove('showModal');
        modal14.classList.remove('showModal');
        modal15.classList.remove('showModal');
        modal16.classList.remove('showModal');
        modal17.classList.remove('showModal');
        modal18.classList.remove('showModal');
        modal19.classList.remove('showModal');
        modal20.classList.remove('showModal');
        modal21.classList.remove('showModal');
        modal22.classList.remove('showModal');
        modal23.classList.remove('showModal');
        modal24.classList.remove('showModal');
        modal25.classList.remove('showModal');
        modal26.classList.remove('showModal');
        modal27.classList.remove('showModal');
        modal28.classList.remove('showModal');
        modal29.classList.remove('showModal');
        modal_backdrop.classList.remove('showModal');
      }

      var progressBar = document.getElementById('progress-bar');
      const progressBarWidth =
        progressBar.style.width && progressBar.style.width.replace('%', '');
      const widthPercentage = parseFloat(progressBarWidth);
      if (widthPercentage <= 10) {
        var steperText = document.getElementById('steper-text');
        steperText.setAttribute('style', 'left: 0;transform: translateX(0);');
      } else if (widthPercentage >= 90) {
        var steperText = document.getElementById('steper-text');
        steperText.setAttribute('style', 'transform: translateX(-100%);');
      }

      // Handler that uses various data-* attributes to trigger
      // specific actions, mimicing bootstraps attributes
      const triggers = Array.from(
        document.querySelectorAll('[data-toggle="fds-collapse"]')
      );

      window.addEventListener(
        'click',
        ev => {
          const elm = ev.target;
          if (triggers.includes(elm)) {
            const selector = elm.getAttribute('data-target');
            collapse(selector, 'toggle');
          }
        },
        false
      );

      const fnmap = {
        show: 'add',
        toggle: 'toggle',
        hide: 'remove'
      };
      const collapse = (selector, cmd) => {
        const targets = Array.from(document.querySelectorAll(selector));
        targets.forEach(target => {
          target.classList[fnmap[cmd]]('fds-show');
        });
      };

      var accItem = document.getElementsByClassName('fds-accordion-item');
      var accHD = document.getElementsByClassName('fds--btnaccordion');
      for (i = 0; i < accHD.length; i++) {
        accHD[i].addEventListener('click', toggleItem, false);
      }
      function toggleItem() {
        var itemClass = this.parentNode.className;
        for (i = 0; i < accItem.length; i++) {
          accItem[i].className = 'fds-accordion-item fds-close';
        }
        if (itemClass == 'fds-accordion-item fds-close') {
          this.parentNode.className = 'fds-accordion-item fds-open';
        }
      }

      /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
      var dropdown = document.getElementsByClassName('dropdown-btn');
      var i;
      for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener('click', function () {
          this.classList.toggle('active');
          var dropdownContent = this.nextElementSibling;

          if (dropdownContent.style.display === 'block') {
            dropdownContent.style.display = 'none';
          } else {
            dropdownContent.style.display = 'block';
          }
        });
      }
      // Navigation Accessibility Code
      var isNavOpen = false;
      var windowSize = $(window).width();
      window.addEventListener('resize', getWindowSize);

      function getWindowSize() {
        windowSize = $(window).width();
      }
      function getBreakpointValue(name) {
        let value = getComputedStyle(document.documentElement).getPropertyValue(
          name
        );
        return parseInt(value, 10);
      }
      document
        .getElementById('lastNavItem')
        .addEventListener('keydown', focusTrap);

      function focusTrap(e) {
        if (isNavOpen === true && e.which === 9) {
          if ($(window).width() < getBreakpointValue('--breakpoint-lg')) {
            e.preventDefault();
            $('.fds--brand--link').focus();
          }
        }
      }

      function initMegaMenu() {
        var megaMenu = document.getElementById('megaMenu');

        // keyboard stuff
        $(megaMenu).delegate('li a', 'keydown', keyboardHandler);

        // mouse stuff
        $(' > li.fds--has--drop', megaMenu).each(function () {
          var dropdown = $('.fds--droplet', $(this)[0]);
          $(this).hover(
            function () {
              if (windowSize >= getBreakpointValue('--breakpoint-lg')) {
                $(this).addClass('active');
                $(this).children('a').attr('aria-expanded', 'true');
                $('.fds--droplet', megaMenu).each(function (index, drop) {
                  if (drop !== dropdown) {
                    $(drop).hide();
                  }
                });
                $(dropdown).attr('aria-hidden', 'false');
                $(dropdown).slideDown(0);
              }
            },
            function () {
              if (windowSize >= getBreakpointValue('--breakpoint-lg')) {
                $(this).removeClass('active');
                $(this).children('a').attr('aria-expanded', 'false');
                $(dropdown).slideUp(0);
              }
            }
          );
        });
      }

      function openNav() {
        var x = document.getElementById('mainNavigation');
        var y = document.getElementById('navOpenerBtn');
        var classes = x.className.split(' ');
        var i = classes.indexOf('open');

        if (i >= 0) {
          x.classList.remove('open');
          y.setAttribute('aria-label', 'Open Navigation Menu');
          y.setAttribute('aria-expanded', 'false');
          isNavOpen = false;
          document
            .getElementById('skipNavBTN')
            .setAttribute('aria-hidden', false);
          document.getElementById('main').setAttribute('aria-hidden', false);
          document.getElementById('footer').setAttribute('aria-hidden', false);
        } else {
          x.classList.add('open');
          y.setAttribute('aria-label', 'Close Navigation Menu');
          y.setAttribute('aria-expanded', 'true');
          isNavOpen = true;
          document
            .getElementById('skipNavBTN')
            .setAttribute('aria-hidden', true);
          document.getElementById('main').setAttribute('aria-hidden', true);
          document.getElementById('footer').setAttribute('aria-hidden', true);
        }
      }

      $('.down-arrow').on('click', function () {
        var parent_id = $(this).parent().attr('id');
        var x = document.getElementById(parent_id);
        var y = $(this);
        var li_has_class = x.classList.contains('active');
        const childrens = document.querySelectorAll('.fds--has--drop');
        childrens.forEach(function (elem) {
          elem.classList.remove('active');
          let caretBtn = elem.querySelector('.down-arrow');
          let label = caretBtn.getAttribute('aria-label');
          let updateLabel = label.replace('close', 'open');
          caretBtn.setAttribute('aria-label', updateLabel);
          caretBtn.setAttribute('aria-expanded', false);
        });
        if (!li_has_class) {
          x.classList.add('active');
          let caretBtn = x.querySelector('.down-arrow');
          let label = caretBtn.getAttribute('aria-label');
          let updateLabel = label.replace('open', 'close');
          caretBtn.setAttribute('aria-label', updateLabel);
          caretBtn.setAttribute('aria-expanded', true);
        }
      });

      function setAttributes(el, attrs) {
        for (var key in attrs) {
          el.querySelector('.down-arrow').setAttribute(key, attrs[key]);
        }
      }

      function keyboardHandler(keyVent) {
        var target = keyVent.target;
        var which = keyVent.which;
        if (which === 39) {
          // RIGHT
          if (isTopLevel(target)) {
            // top level item
            var nextTopItem = adjacentTopLevelItem(target, 'next');

            if (nextTopItem) {
              keyVent.preventDefault();
              nextTopItem.focus();
            }
          } else {
            // dropdown item
            var nextDropletItem = adjacentDropdownItem(target, 'next');
            if (nextDropletItem) {
              keyVent.preventDefault();
              nextDropletItem.focus();
            }
          }
        } else if (which === 37) {
          // LEFT
          if (isTopLevel(target)) {
            // top level item
            var prevTopItem = adjacentTopLevelItem(target, 'prev');

            if (prevTopItem) {
              keyVent.preventDefault();
              prevTopItem.focus();
            }
          } else {
            // dropdown item
            var prevDropItem = adjacentDropdownItem(target, 'prev');
            if (prevDropItem) {
              keyVent.preventDefault();
              prevDropItem.focus();
            }
          }
        } else if (which === 40) {
          // DOWN
          if (isTopLevel(target) && hasDropdown(target)) {
            // top level item w/ dropdown -- open dropdown
            openDropdown(target);
          } else {
            // dropdown item
            var nextDropItem = adjacentDropdownItem(target, 'next');

            if (nextDropItem) {
              keyVent.preventDefault();
              nextDropItem.focus();
            }
          }
        } else if (which === 38) {
          // UP
          if (!isTopLevel(target)) {
            if (isFirstDropItem(target)) {
              keyVent.preventDefault();
              var top = closeDropdown(target);
              setTimeout(function () {
                top.focus();
              }, 0);
            } else {
              var prevDropAnchor = adjacentDropdownItem(target, 'prev');

              if (prevDropAnchor) {
                keyVent.preventDefault();
                prevDropAnchor.focus();
              }
            }
          }
        } else if (which === 27) {
          // ESCAPE
          if (!isTopLevel(target)) {
            var topper = closeDropdown(target);
            setTimeout(function () {
              topper.focus();
            }, 0);
          }
        } else if (which === 9 && keyVent.shiftKey) {
          // SHIFT + TAB
          if (!isTopLevel(target) && isFirstDropItem(target)) {
            keyVent.preventDefault();
            var topA = closeDropdown(target);
            setTimeout(function () {
              topA.focus();
            }, 0);
          }
        } else if (which === 9) {
          // TAB
          if (!isTopLevel(target) && isLastDropItem(target)) {
            keyVent.preventDefault();
            var topItem = closeDropdown(target);
            var nextLi = $(topItem.parentNode).next()[0];
            var nextAnchor = $('a', nextLi)[0];
            nextAnchor.focus();
          }
        } else if (which === 32) {
          if (
            isTopLevel(target) &&
            $(target.parentNode).hasClass('fds--has--drop')
          ) {
            openDropdown(target);
          }
        }
      }

      // determines if the item is a top-level one
      function isTopLevel(item) {
        return $(item).is('#megaMenu > li > a');
      }

      // determines if the item has a dropdown
      function hasDropdown(item) {
        return $(item.parentNode).hasClass('fds--has--drop');
      }

      // determines if the item is the first in the dropdown
      function isFirstDropItem(item) {
        var drop = $(item).closest('.fds--droplet')[0];
        var firstInDrop = $('li a', drop)[0];

        return firstInDrop === item;
      }

      // determines if the item is the last in the dropdown
      function isLastDropItem(item) {
        var drop = $(item).closest('.fds--droplet')[0];
        var lastInDrop = $('li a', drop).last()[0];

        return lastInDrop === item;
      }

      // finds the adjacent top level item
      function adjacentTopLevelItem(item, dir) {
        var li = item.parentNode; // <li />
        var adjacentLi = dir === 'next' ? $(li).next()[0] : $(li).prev()[0];
        var adjacentItem = adjacentLi && $('a', adjacentLi)[0];

        return adjacentItem;
      }

      // finds the next or prev dropdown item
      function adjacentDropdownItem(item, dir) {
        var adjacentDropItem;
        var li = item.parentNode;
        var adjacentSameCol =
          dir === 'next' ? $(li).next()[0] : $(li).prev()[0];
        if (adjacentSameCol) {
          // there is one in the same col
          adjacentDropItem = $('a', adjacentSameCol)[0];
        } else {
          // lets look for one in the adjacent column
          var col = $(li).closest('.fds--droplet--col')[0];
          var adjacentCol =
            dir === 'next' ? $(col).next()[0] : $(col).prev()[0];
          if (adjacentCol) {
            // we've found the adjacent column
            var adjacentItem =
              dir === 'next'
                ? $('li a', adjacentCol)[0]
                : $('li a', adjacentCol).last()[0];

            if (adjacentItem) {
              adjacentDropItem = adjacentItem;
            }
          }
        }

        return adjacentDropItem;
      }

      function openDropdown(item) {
        $(item.parentNode).addClass('active');
        $(item).attr('aria-expanded', 'true');
        var caret = $(item).next()[0];
        var droplet = $(caret).next()[0];
        $(droplet).attr('aria-hidden', 'false');
        // open the dropdown...
        $(droplet).slideDown(100);
        // ...and focus the first item
        setTimeout(function () {
          $('a', droplet)[0].focus();
        }, 100);
      }

      function closeDropdown(item) {
        var droplet = $(item).closest('.fds--droplet')[0];
        $(droplet).attr('aria-hidden', 'true');
        var caret = $(droplet).prev()[0];
        var topLevelItem = $(caret).prev()[0];
        $(topLevelItem).attr('aria-expanded', 'false');
        $(topLevelItem.parentNode).removeClass('active');
        $(droplet).slideUp(100);

        return topLevelItem;
      }

      ////////////////////////////////////
      $(document).ready(initMegaMenu);
      ////////////////////////////////////
      //
    </script>
  </body>
</html>
